<!-- Giscus Comments Widget -->
{%- if site.giscus and site.giscus.repository and site.giscus.enabled -%}
<div class="giscus-comments">
  <script src="https://giscus.app/client.js"
    data-repo="{{ site.giscus.repository }}"
    data-repo-id="{{ site.giscus.repository_id | default: '' }}"
    data-category="{{ site.giscus.category | default: 'General' }}"
    data-category-id="{{ site.giscus.category_id | default: '' }}"
    data-mapping="{{ site.giscus.mapping | default: 'pathname' }}"
    data-strict="{{ site.giscus.strict | default: '0' }}"
    data-reactions-enabled="{{ site.giscus.reactions_enabled | default: '1' }}"
    data-emit-metadata="{{ site.giscus.emit_metadata | default: '0' }}"
    data-input-position="{{ site.giscus.input_position | default: 'bottom' }}"
    data-theme="{{ site.giscus.theme | default: 'preferred_color_scheme' }}"
    data-lang="{{ site.giscus.lang | default: 'en' }}"
    data-loading="{{ site.giscus.loading | default: 'lazy' }}"
    crossorigin="anonymous"
    async>
  </script>
</div>
{%- endif -%}